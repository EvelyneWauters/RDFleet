<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
    <title>RealDolmen Fleet</title>
    <link th:href="@{/css/bootstrap-3.0.3.min.css}" rel="stylesheet"/>
    <link th:href="@{/css/styles.css}" rel="stylesheet"/>
</head>
<body>

<div th:replace="navbar :: navbar"/>

<div class="container">

    <div th:if="${carTypeDTO.id == null}">
        <h2 th:text = "#{msgcartypeform.h2}">Add a new car to the catalog</h2>
    </div>
    <div th:if="${carTypeDTO.id != null}">
        <h2 th:text="${#messages.msg('msg.button.edit') + ' ' + carTypeDTO.brand.name + ' ' + carTypeDTO.carModelDTO.toString()}"> </h2>
    </div>

    <form role="form" method="post" th:object="${carTypeDTO}">

        <div class="form-group" th:class="${#fields.hasErrors('category')}? 'has-error'">
            <label th:for="${#ids.next('category')}" th:text="#{msgcartypeform.category}"/>
            <input type="number" min="1" max = "7" th:field="*{category}" class="form-control"/>
            <span th:if="${#fields.hasErrors('category')}" class="help-block" th:errors="*{category}"></span>
        </div>


        <div class="form-group" th:class="${#fields.hasErrors('brand.name')}? 'has-error'">
            <label th:for="${#ids.next('brand.name')}" th:text="#{msgcartypeform.brandname}"/>
            <input type="text" th:field="*{brand.name}" class="form-control"/>
            <span th:if="${#fields.hasErrors('brand.name')}" class="help-block" th:errors="*{brand.name}"></span>
        </div>


        <!--<div class="form-group" th:class="${#fields.hasErrors('modelName')}? 'has-error'">-->
            <!--<label th:for="${#ids.next('modelName')}" th:text="#{msgcartypeform.modelname}"/>-->
            <!--<input type="text" th:field="*{modelName}" class="form-control"/>-->
            <!--<span th:if="${#fields.hasErrors('modelName')}" class="help-block"-->
                  <!--th:errors="*{modelName}"></span>-->
        <!--</div>-->

        <!--<div class="form-group" th:class="${#fields.hasErrors('carModel.modelDesignation')}? 'has-error'">-->
            <!--<label th:for="${#ids.next('carModel.modelDesignation')}" th:text="#{msgcartypeform.modeldesignation}"/>-->
            <!--<input type="text" th:field="*{carModel.modelDesignation}" class="form-control"/>-->
            <!--<span th:if="${#fields.hasErrors('carModel.modelDesignation')}" class="help-block"-->
                  <!--th:errors="*{carModel.modelDesignation}"></span>-->
        <!--</div>-->

        <!--<div class="form-group" th:class="${#fields.hasErrors('horsePower')}? 'has-error'">-->
            <!--<label th:for="${#ids.next('horsePower')}" th:text="#{msgcartypeform.horsepower}"/>-->
            <!--<input type="number" min="0" th:field="*{horsePower}" class="form-control"/>-->
            <!--<span th:if="${#fields.hasErrors('horsePower')}" class="help-block"-->
                  <!--th:errors="*{horsePower}"></span>-->
        <!--</div>-->

        <!--<div class="form-group" th:class="${#fields.hasErrors('carModel.versionName')}? 'has-error'">-->
            <!--<label th:for="${#ids.next('carModel.versionName')}" th:text="#{msgcartypeform.versionName}"/>-->
            <!--<input type="text" th:field="*{carModel.versionName}" class="form-control"/>-->
            <!--<span th:if="${#fields.hasErrors('carModel.versionName')}" class="help-block"-->
                  <!--th:errors="*{carModel.versionName}"></span>-->
        <!--</div>-->

        <!--<div class="form-group" th:class="${#fields.hasErrors('imageUrl')}? 'has-error'">-->
            <!--<label th:for="${#ids.next('imageUrl')}" th:text="#{msgcartypeform.imageUrl}"/>-->
            <!--<input type="text" th:field="*{imageUrl}" class="form-control"/>-->
            <!--<span th:if="${#fields.hasErrors('imageUrl')}" class="help-block"-->
                  <!--th:errors="*{imageUrl}"></span>-->
        <!--</div>-->

        <div class="form-group" th:class="${#fields.hasErrors('carModelDTO.modelName')}? 'has-error'">
            <label th:for="${#ids.next('carModelDTO.modelName')}" th:text="#{msgcartypeform.modelname}"/>
            <input type="text" th:field="*{carModelDTO.modelName}" class="form-control"/>
            <span th:if="${#fields.hasErrors('carModelDTO.modelName')}" class="help-block"
                  th:errors="*{carModelDTO.modelName}"></span>
        </div>

        <div class="form-group" th:class="${#fields.hasErrors('carModelDTO.modelDesignation')}? 'has-error'">
            <label th:for="${#ids.next('carModelDTO.modelDesignation')}" th:text="#{msgcartypeform.modeldesignation}"/>
            <input type="text" th:field="*{carModelDTO.modelDesignation}" class="form-control"/>
            <span th:if="${#fields.hasErrors('carModelDTO.modelDesignation')}" class="help-block"
                  th:errors="*{carModelDTO.modelDesignation}"></span>
        </div>

        <div class="form-group" th:class="${#fields.hasErrors('carModelDTO.horsePower')}? 'has-error'">
            <label th:for="${#ids.next('carModelDTO.horsePower')}" th:text="#{msgcartypeform.horsepower}"/>
            <input type="number" min="0" th:field="*{carModelDTO.horsePower}" class="form-control"/>
            <span th:if="${#fields.hasErrors('carModelDTO.horsePower')}" class="help-block"
                  th:errors="*{carModelDTO.horsePower}"></span>
        </div>

        <div class="form-group" th:class="${#fields.hasErrors('carModelDTO.versionName')}? 'has-error'">
            <label th:for="${#ids.next('carModelDTO.versionName')}" th:text="#{msgcartypeform.versionName}"/>
            <input type="text" th:field="*{carModelDTO.versionName}" class="form-control"/>
            <span th:if="${#fields.hasErrors('carModelDTO.versionName')}" class="help-block"
                  th:errors="*{carModelDTO.versionName}"></span>
        </div>

        <div class="form-group" th:class="${#fields.hasErrors('carModelDTO.imageUrl')}? 'has-error'">
        <label th:for="${#ids.next('carModelDTO.imageUrl')}" th:text="#{msgcartypeform.imageUrl}"/>
        <input type="text" th:field="*{carModelDTO.imageUrl}" class="form-control"/>
        <span th:if="${#fields.hasErrors('carModelDTO.imageUrl')}" class="help-block"
        th:errors="*{carModelDTO.imageUrl}"></span>
        </div>

        <br/>
        <br/>

        <div class="form-group" th:class="${#fields.hasErrors('co2')}? 'has-error'">
            <label th:for="${#ids.next('co2')}" th:text="#{msgcartypeform.co2}"/>
            <input type="number" min="0" th:field="*{co2}" class="form-control"/>
            <span th:if="${#fields.hasErrors('co2')}" class="help-block"
                  th:errors="*{co2}"></span>
        </div>

        <br/>
        <br/>

        <div class="form-group" th:class="${#fields.hasErrors('listPriceInclRealVat')}? 'has-error'">
            <label th:for="${#ids.next('listPriceInclRealVat')}" th:text="#{msgcartypeform.listPriceInclRealVat}"/>
            <input type="number" step="any" min="0" th:field="*{listPriceInclRealVat}" class="form-control"/>
            <span th:if="${#fields.hasErrors('listPriceInclRealVat')}" class="help-block"
                  th:errors="*{listPriceInclRealVat}"></span>
        </div>

        <div class="form-group" th:class="${#fields.hasErrors('fiscHp')}? 'has-error'">
            <label th:for="${#ids.next('fiscHp')}" th:text="#{msgcartypeform.fiscHp}"/>
            <input type="number" min="0" th:field="*{fiscHp}" class="form-control"/>
            <span th:if="${#fields.hasErrors('fiscHp')}" class="help-block" th:errors="*{fiscHp}"></span>
        </div>

        <div class="form-group" th:class="${#fields.hasErrors('benefitInKindPerMonth')}? 'has-error'">
            <label th:for="${#ids.next('benefitInKindPerMonth')}" th:text="#{msgcartypeform.benefitInKindPerMonth}"/>
            <input type="number" step="any" min="0" th:field="*{benefitInKindPerMonth}" class="form-control"/>
            <span th:if="${#fields.hasErrors('benefitInKindPerMonth')}" class="help-block"
                  th:errors="*{benefitInKindPerMonth}"></span>
        </div>

        <div class="form-group" th:class="${#fields.hasErrors('amountUpgradeInclVat')}? 'has-error'">
            <label th:for="${#ids.next('amountUpgradeInclVat')}" th:text="#{msgcartypeform.amountUpgradeInclVat}"/>
            <input type="number" step="any" min="0" th:field="*{amountUpgradeInclVat}" class="form-control"/>
            <span th:if="${#fields.hasErrors('amountUpgradeInclVat')}" class="help-block"
                  th:errors="*{amountUpgradeInclVat}"></span>
        </div>

        <div class="form-group" th:class="${#fields.hasErrors('amountDowngradeInclVat')}? 'has-error'">
            <label th:for="${#ids.next('amountDowngradeInclVat')}" th:text="#{msgcartypeform.amountDowngradeInclVat}"/>
            <input type="number" step="any" min="0" th:field="*{amountDowngradeInclVat}" class="form-control"/>
            <span th:if="${#fields.hasErrors('amountDowngradeInclVat')}" class="help-block"
                  th:errors="*{amountDowngradeInclVat}"></span>
        </div>

        <br/>
        <br/>


        <div class="form-group" th:class="${#fields.hasErrors('idealKm')}? 'has-error'">
            <label th:for="${#ids.next('idealKm')}" th:text="#{msgcartypeform.idealKm}"/>
            <input type="number" min="0" th:field="*{idealKm}" class="form-control"/>
            <span th:if="${#fields.hasErrors('idealKm')}" class="help-block"
                  th:errors="*{idealKm}"></span>
        </div>

        <div class="form-group" th:class="${#fields.hasErrors('maxKm')}? 'has-error'">
            <label th:for="${#ids.next('maxKm')}" th:text="#{msgcartypeform.maxKm}"/>
            <input type="number" min="0" th:field="*{maxKm}" class="form-control"/>
            <span th:if="${#fields.hasErrors('maxKm')}" class="help-block"
                  th:errors="*{maxKm}"></span>
        </div>

        <!--<div class="form-group">-->
        <!--<label for="fueltypes">fueltypes</label>-->
        <!--<select th:p-->
        <!--<sf:select path="genre" items="${genres}" cssClass="form-control"/>-->
        <!--</div>-->


        <div class="form-group">
            <label th:for="${#ids.next('fuelType')}" th:text="#{msgcartypeform.fuelType}"/>
            <select th:field="*{fuelType}">
                <option th:each="fuelType : ${fueltypes}"
                        th:value="${fuelType}"
                        th:text="#{${'msgcartypeform.fuelType.' + fuelType}}">Wireframe</option>
            </select>
        </div>


        <div class="form-group">
            <label th:for="${#ids.next('winterTyresRimType')}" th:text="#{msgcartypeform.winterTyresRimType}"/>
            <select th:field="*{winterTyresRimType}">
                <option th:each="winterTyresRimType : ${winterTyresRimTypes}"
                        th:value="${winterTyresRimType}"
                        th:text="#{${'msgcartypeform.winterTyresRimType.' + winterTyresRimType}}">Wireframe</option>
            </select>
        </div>


        <br/>
        <input type="hidden" th:field="*{id}" class="form-control"/>
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
        <button th:if="${carTypeDTO.id != null}" type="submit" class="btn btn-primary" th:formaction="${#mvc.url('CTC#updateCarType').arg(0, carTypeDTO.id).build()}">Save</button>
        <button th:if="${carTypeDTO.id == null}" type="submit" class="btn btn-primary" >Save</button>
    </form>
</div>
</body>
</html>